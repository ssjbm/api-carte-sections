(()=>{self.create=(e,i=null,t=null,n={})=>{let a=document.createElement(e);return i&&(a.className=i),t&&(a.innerHTML=t),Object.entries(n).forEach(r=>a.setAttribute(r[0],r[1])),a};HTMLElement.prototype.create=function(e,i=null,t=null,n={}){let a=create(e,i,t,n);return this.append(a),a};self.loadJsonProperties=async function(e,i={}){let t=Object.entries(i),n=await Promise.allSettled(t.map(async([a,r])=>{let s=await fetch(r),l=null;try{l=await s.json()}catch{}return{key:a,url:r,status:s.status,ok:s.ok,data:l}}));for(let a of n)if(a.status==="fulfilled"){let{key:r,url:s,status:l,ok:d,data:o}=a.value;if(!d){console.error("".concat(r," [").concat(l," - ERREUR] ").concat(s));continue}e[r]=o}else console.error("Erreur r\xE9seau/JS pendant le chargement :",a.reason);return e};self.documentReady=function(e=null){return new Promise(i=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{e&&e(),i()},{once:!0}):(e&&e(),i())})};self.loadScript=async function(e,i={},t=!1){let n=new URL(e);Object.entries(i).forEach(([r,s])=>n.searchParams.set(r,s));let a=document.createElement("script");a.src=n.toString(),a.async=t,document.head.appendChild(a)};function ce(e){let i=e.length;for(;--i>=0;)e[i]=0}var Bi=0,li=1,ji=2,Gi=3,Ki=258,pt=29,ze=256,ye=ze+1+pt,le=30,gt=19,si=2*ye+1,W=15,Ke=16,Yi=7,wt=256,fi=16,ci=17,_i=18,ot=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Me=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Xi=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),hi=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ji=512,j=new Array((ye+2)*2);ce(j);var we=new Array(le*2);ce(we);var me=new Array(Ji);ce(me);var ve=new Array(Ki-Gi+1);ce(ve);var bt=new Array(pt);ce(bt);var Fe=new Array(le);ce(Fe);function Ye(e,i,t,n,a){this.static_tree=e,this.extra_bits=i,this.extra_base=t,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}var di,ui,pi;function Xe(e,i){this.dyn_tree=e,this.max_code=0,this.stat_desc=i}var gi=e=>e<256?me[e]:me[256+(e>>>7)],ke=(e,i)=>{e.pending_buf[e.pending++]=i&255,e.pending_buf[e.pending++]=i>>>8&255},O=(e,i,t)=>{e.bi_valid>Ke-t?(e.bi_buf|=i<<e.bi_valid&65535,ke(e,e.bi_buf),e.bi_buf=i>>Ke-e.bi_valid,e.bi_valid+=t-Ke):(e.bi_buf|=i<<e.bi_valid&65535,e.bi_valid+=t)},F=(e,i,t)=>{O(e,t[i*2],t[i*2+1])},wi=(e,i)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--i>0);return t>>>1},Vi=e=>{e.bi_valid===16?(ke(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},qi=(e,i)=>{let t=i.dyn_tree,n=i.max_code,a=i.stat_desc.static_tree,r=i.stat_desc.has_stree,s=i.stat_desc.extra_bits,l=i.stat_desc.extra_base,d=i.stat_desc.max_length,o,f,x,_,c,u,R=0;for(_=0;_<=W;_++)e.bl_count[_]=0;for(t[e.heap[e.heap_max]*2+1]=0,o=e.heap_max+1;o<si;o++)f=e.heap[o],_=t[t[f*2+1]*2+1]+1,_>d&&(_=d,R++),t[f*2+1]=_,!(f>n)&&(e.bl_count[_]++,c=0,f>=l&&(c=s[f-l]),u=t[f*2],e.opt_len+=u*(_+c),r&&(e.static_len+=u*(a[f*2+1]+c)));if(R!==0){do{for(_=d-1;e.bl_count[_]===0;)_--;e.bl_count[_]--,e.bl_count[_+1]+=2,e.bl_count[d]--,R-=2}while(R>0);for(_=d;_!==0;_--)for(f=e.bl_count[_];f!==0;)x=e.heap[--o],!(x>n)&&(t[x*2+1]!==_&&(e.opt_len+=(_-t[x*2+1])*t[x*2],t[x*2+1]=_),f--)}},bi=(e,i,t)=>{let n=new Array(W+1),a=0,r,s;for(r=1;r<=W;r++)a=a+t[r-1]<<1,n[r]=a;for(s=0;s<=i;s++){let l=e[s*2+1];l!==0&&(e[s*2]=wi(n[l]++,l))}},Wi=()=>{let e,i,t,n,a,r=new Array(W+1);for(t=0,n=0;n<pt-1;n++)for(bt[n]=t,e=0;e<1<<ot[n];e++)ve[t++]=n;for(ve[t-1]=n,a=0,n=0;n<16;n++)for(Fe[n]=a,e=0;e<1<<Me[n];e++)me[a++]=n;for(a>>=7;n<le;n++)for(Fe[n]=a<<7,e=0;e<1<<Me[n]-7;e++)me[256+a++]=n;for(i=0;i<=W;i++)r[i]=0;for(e=0;e<=143;)j[e*2+1]=8,e++,r[8]++;for(;e<=255;)j[e*2+1]=9,e++,r[9]++;for(;e<=279;)j[e*2+1]=7,e++,r[7]++;for(;e<=287;)j[e*2+1]=8,e++,r[8]++;for(bi(j,ye+1,r),e=0;e<le;e++)we[e*2+1]=5,we[e*2]=wi(e,5);di=new Ye(j,ot,ze+1,ye,W),ui=new Ye(we,Me,0,le,W),pi=new Ye(new Array(0),Xi,0,gt,Yi)},xi=e=>{let i;for(i=0;i<ye;i++)e.dyn_ltree[i*2]=0;for(i=0;i<le;i++)e.dyn_dtree[i*2]=0;for(i=0;i<gt;i++)e.bl_tree[i*2]=0;e.dyn_ltree[wt*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},yi=e=>{e.bi_valid>8?ke(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},kt=(e,i,t,n)=>{let a=i*2,r=t*2;return e[a]<e[r]||e[a]===e[r]&&n[i]<=n[t]},Je=(e,i,t)=>{let n=e.heap[t],a=t<<1;for(;a<=e.heap_len&&(a<e.heap_len&&kt(i,e.heap[a+1],e.heap[a],e.depth)&&a++,!kt(i,n,e.heap[a],e.depth));)e.heap[t]=e.heap[a],t=a,a<<=1;e.heap[t]=n},Et=(e,i,t)=>{let n,a,r=0,s,l;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+r++]&255,n+=(e.pending_buf[e.sym_buf+r++]&255)<<8,a=e.pending_buf[e.sym_buf+r++],n===0?F(e,a,i):(s=ve[a],F(e,s+ze+1,i),l=ot[s],l!==0&&(a-=bt[s],O(e,a,l)),n--,s=gi(n),F(e,s,t),l=Me[s],l!==0&&(n-=Fe[s],O(e,n,l)));while(r<e.sym_next);F(e,wt,i)},lt=(e,i)=>{let t=i.dyn_tree,n=i.stat_desc.static_tree,a=i.stat_desc.has_stree,r=i.stat_desc.elems,s,l,d=-1,o;for(e.heap_len=0,e.heap_max=si,s=0;s<r;s++)t[s*2]!==0?(e.heap[++e.heap_len]=d=s,e.depth[s]=0):t[s*2+1]=0;for(;e.heap_len<2;)o=e.heap[++e.heap_len]=d<2?++d:0,t[o*2]=1,e.depth[o]=0,e.opt_len--,a&&(e.static_len-=n[o*2+1]);for(i.max_code=d,s=e.heap_len>>1;s>=1;s--)Je(e,t,s);o=r;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Je(e,t,1),l=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=l,t[o*2]=t[s*2]+t[l*2],e.depth[o]=(e.depth[s]>=e.depth[l]?e.depth[s]:e.depth[l])+1,t[s*2+1]=t[l*2+1]=o,e.heap[1]=o++,Je(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],qi(e,i),bi(t,d,e.bl_count)},St=(e,i,t)=>{let n,a=-1,r,s=i[1],l=0,d=7,o=4;for(s===0&&(d=138,o=3),i[(t+1)*2+1]=65535,n=0;n<=t;n++)r=s,s=i[(n+1)*2+1],!(++l<d&&r===s)&&(l<o?e.bl_tree[r*2]+=l:r!==0?(r!==a&&e.bl_tree[r*2]++,e.bl_tree[fi*2]++):l<=10?e.bl_tree[ci*2]++:e.bl_tree[_i*2]++,l=0,a=r,s===0?(d=138,o=3):r===s?(d=6,o=3):(d=7,o=4))},At=(e,i,t)=>{let n,a=-1,r,s=i[1],l=0,d=7,o=4;for(s===0&&(d=138,o=3),n=0;n<=t;n++)if(r=s,s=i[(n+1)*2+1],!(++l<d&&r===s)){if(l<o)do F(e,r,e.bl_tree);while(--l!==0);else r!==0?(r!==a&&(F(e,r,e.bl_tree),l--),F(e,fi,e.bl_tree),O(e,l-3,2)):l<=10?(F(e,ci,e.bl_tree),O(e,l-3,3)):(F(e,_i,e.bl_tree),O(e,l-11,7));l=0,a=r,s===0?(d=138,o=3):r===s?(d=6,o=3):(d=7,o=4)}},Qi=e=>{let i;for(St(e,e.dyn_ltree,e.l_desc.max_code),St(e,e.dyn_dtree,e.d_desc.max_code),lt(e,e.bl_desc),i=gt-1;i>=3&&e.bl_tree[hi[i]*2+1]===0;i--);return e.opt_len+=3*(i+1)+5+5+4,i},en=(e,i,t,n)=>{let a;for(O(e,i-257,5),O(e,t-1,5),O(e,n-4,4),a=0;a<n;a++)O(e,e.bl_tree[hi[a]*2+1],3);At(e,e.dyn_ltree,i-1),At(e,e.dyn_dtree,t-1)},tn=e=>{let i=4093624447,t;for(t=0;t<=31;t++,i>>>=1)if(i&1&&e.dyn_ltree[t*2]!==0)return 0;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return 1;for(t=32;t<ze;t++)if(e.dyn_ltree[t*2]!==0)return 1;return 0},Tt=!1,nn=e=>{Tt||(Wi(),Tt=!0),e.l_desc=new Xe(e.dyn_ltree,di),e.d_desc=new Xe(e.dyn_dtree,ui),e.bl_desc=new Xe(e.bl_tree,pi),e.bi_buf=0,e.bi_valid=0,xi(e)},mi=(e,i,t,n)=>{O(e,(Bi<<1)+(n?1:0),3),yi(e),ke(e,t),ke(e,~t),t&&e.pending_buf.set(e.window.subarray(i,i+t),e.pending),e.pending+=t},an=e=>{O(e,li<<1,3),F(e,wt,j),Vi(e)},rn=(e,i,t,n)=>{let a,r,s=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=tn(e)),lt(e,e.l_desc),lt(e,e.d_desc),s=Qi(e),a=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,r<=a&&(a=r)):a=r=t+5,t+4<=a&&i!==-1?mi(e,i,t,n):e.strategy===4||r===a?(O(e,(li<<1)+(n?1:0),3),Et(e,j,we)):(O(e,(ji<<1)+(n?1:0),3),en(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Et(e,e.dyn_ltree,e.dyn_dtree)),xi(e),n&&yi(e)},on=(e,i,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=i,e.pending_buf[e.sym_buf+e.sym_next++]=i>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,i===0?e.dyn_ltree[t*2]++:(e.matches++,i--,e.dyn_ltree[(ve[t]+ze+1)*2]++,e.dyn_dtree[gi(i)*2]++),e.sym_next===e.sym_end),ln=nn,sn=mi,fn=rn,cn=on,_n=an,hn={_tr_init:ln,_tr_stored_block:sn,_tr_flush_block:fn,_tr_tally:cn,_tr_align:_n},dn=(e,i,t,n)=>{let a=e&65535|0,r=e>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do a=a+i[n++]|0,r=r+a|0;while(--s);a%=65521,r%=65521}return a|r<<16|0},Ee=dn,un=()=>{let e,i=[];for(var t=0;t<256;t++){e=t;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;i[t]=e}return i},pn=new Uint32Array(un()),gn=(e,i,t,n)=>{let a=pn,r=n+t;e^=-1;for(let s=n;s<r;s++)e=e>>>8^a[(e^i[s])&255];return e^-1},D=gn,te={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_e={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:wn,_tr_stored_block:st,_tr_flush_block:bn,_tr_tally:X,_tr_align:xn}=hn,{Z_NO_FLUSH:J,Z_PARTIAL_FLUSH:yn,Z_FULL_FLUSH:mn,Z_FINISH:$,Z_BLOCK:zt,Z_OK:L,Z_STREAM_END:Rt,Z_STREAM_ERROR:H,Z_DATA_ERROR:vn,Z_BUF_ERROR:Ve,Z_DEFAULT_COMPRESSION:kn,Z_FILTERED:En,Z_HUFFMAN_ONLY:Oe,Z_RLE:Sn,Z_FIXED:An,Z_DEFAULT_STRATEGY:Tn,Z_UNKNOWN:zn,Z_DEFLATED:Be}=_e,Rn=9,In=15,Dn=8,Ln=29,Zn=256,ft=Zn+1+Ln,On=30,Cn=19,Nn=2*ft+1,$n=15,m=3,Y=258,P=Y+m+1,Un=32,se=42,xt=57,ct=69,_t=73,ht=91,dt=103,Q=113,pe=666,Z=1,he=2,ie=3,de=4,Mn=3,ee=(e,i)=>(e.msg=te[i],i),It=e=>e*2-(e>4?9:0),K=e=>{let i=e.length;for(;--i>=0;)e[i]=0},Fn=e=>{let i,t,n,a=e.w_size;i=e.hash_size,n=i;do t=e.head[--n],e.head[n]=t>=a?t-a:0;while(--i);i=a,n=i;do t=e.prev[--n],e.prev[n]=t>=a?t-a:0;while(--i)},Hn=(e,i,t)=>(i<<e.hash_shift^t)&e.hash_mask,V=Hn,C=e=>{let i=e.state,t=i.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(i.pending_buf.subarray(i.pending_out,i.pending_out+t),e.next_out),e.next_out+=t,i.pending_out+=t,e.total_out+=t,e.avail_out-=t,i.pending-=t,i.pending===0&&(i.pending_out=0))},N=(e,i)=>{bn(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,i),e.block_start=e.strstart,C(e.strm)},S=(e,i)=>{e.pending_buf[e.pending++]=i},ue=(e,i)=>{e.pending_buf[e.pending++]=i>>>8&255,e.pending_buf[e.pending++]=i&255},ut=(e,i,t,n)=>{let a=e.avail_in;return a>n&&(a=n),a===0?0:(e.avail_in-=a,i.set(e.input.subarray(e.next_in,e.next_in+a),t),e.state.wrap===1?e.adler=Ee(e.adler,i,a,t):e.state.wrap===2&&(e.adler=D(e.adler,i,a,t)),e.next_in+=a,e.total_in+=a,a)},vi=(e,i)=>{let t=e.max_chain_length,n=e.strstart,a,r,s=e.prev_length,l=e.nice_match,d=e.strstart>e.w_size-P?e.strstart-(e.w_size-P):0,o=e.window,f=e.w_mask,x=e.prev,_=e.strstart+Y,c=o[n+s-1],u=o[n+s];e.prev_length>=e.good_match&&(t>>=2),l>e.lookahead&&(l=e.lookahead);do if(a=i,!(o[a+s]!==u||o[a+s-1]!==c||o[a]!==o[n]||o[++a]!==o[n+1])){n+=2,a++;do;while(o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&n<_);if(r=Y-(_-n),n=_-Y,r>s){if(e.match_start=i,s=r,r>=l)break;c=o[n+s-1],u=o[n+s]}}while((i=x[i&f])>d&&--t!==0);return s<=e.lookahead?s:e.lookahead},fe=e=>{let i=e.w_size,t,n,a;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-P)&&(e.window.set(e.window.subarray(i,i+i-n),0),e.match_start-=i,e.strstart-=i,e.block_start-=i,e.insert>e.strstart&&(e.insert=e.strstart),Fn(e),n+=i),e.strm.avail_in===0)break;if(t=ut(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=t,e.lookahead+e.insert>=m)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=V(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=V(e,e.ins_h,e.window[a+m-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<m)););}while(e.lookahead<P&&e.strm.avail_in!==0)},ki=(e,i)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,a,r,s=0,l=e.strm.avail_in;do{if(n=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r||(r=e.strm.avail_out-r,a=e.strstart-e.block_start,n>a+e.strm.avail_in&&(n=a+e.strm.avail_in),n>r&&(n=r),n<t&&(n===0&&i!==$||i===J||n!==a+e.strm.avail_in)))break;s=i===$&&n===a+e.strm.avail_in?1:0,st(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,C(e.strm),a&&(a>n&&(a=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,n-=a),n&&(ut(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(s===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?de:i!==J&&i!==$&&e.strm.avail_in===0&&e.strstart===e.block_start?he:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(ut(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,t=r>e.w_size?e.w_size:r,a=e.strstart-e.block_start,(a>=t||(a||i===$)&&i!==J&&e.strm.avail_in===0&&a<=r)&&(n=a>r?r:a,s=i===$&&e.strm.avail_in===0&&n===a?1:0,st(e,e.block_start,n,s),e.block_start+=n,C(e.strm)),s?ie:Z)},qe=(e,i)=>{let t,n;for(;;){if(e.lookahead<P){if(fe(e),e.lookahead<P&&i===J)return Z;if(e.lookahead===0)break}if(t=0,e.lookahead>=m&&(e.ins_h=V(e,e.ins_h,e.window[e.strstart+m-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-P&&(e.match_length=vi(e,t)),e.match_length>=m)if(n=X(e,e.strstart-e.match_start,e.match_length-m),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=m){e.match_length--;do e.strstart++,e.ins_h=V(e,e.ins_h,e.window[e.strstart+m-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=V(e,e.ins_h,e.window[e.strstart+1]);else n=X(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(N(e,!1),e.strm.avail_out===0))return Z}return e.insert=e.strstart<m-1?e.strstart:m-1,i===$?(N(e,!0),e.strm.avail_out===0?ie:de):e.sym_next&&(N(e,!1),e.strm.avail_out===0)?Z:he},re=(e,i)=>{let t,n,a;for(;;){if(e.lookahead<P){if(fe(e),e.lookahead<P&&i===J)return Z;if(e.lookahead===0)break}if(t=0,e.lookahead>=m&&(e.ins_h=V(e,e.ins_h,e.window[e.strstart+m-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=m-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-P&&(e.match_length=vi(e,t),e.match_length<=5&&(e.strategy===En||e.match_length===m&&e.strstart-e.match_start>4096)&&(e.match_length=m-1)),e.prev_length>=m&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-m,n=X(e,e.strstart-1-e.prev_match,e.prev_length-m),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=V(e,e.ins_h,e.window[e.strstart+m-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=m-1,e.strstart++,n&&(N(e,!1),e.strm.avail_out===0))return Z}else if(e.match_available){if(n=X(e,0,e.window[e.strstart-1]),n&&N(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Z}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=X(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<m-1?e.strstart:m-1,i===$?(N(e,!0),e.strm.avail_out===0?ie:de):e.sym_next&&(N(e,!1),e.strm.avail_out===0)?Z:he},Pn=(e,i)=>{let t,n,a,r,s=e.window;for(;;){if(e.lookahead<=Y){if(fe(e),e.lookahead<=Y&&i===J)return Z;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=m&&e.strstart>0&&(a=e.strstart-1,n=s[a],n===s[++a]&&n===s[++a]&&n===s[++a])){r=e.strstart+Y;do;while(n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&a<r);e.match_length=Y-(r-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=m?(t=X(e,1,e.match_length-m),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=X(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(N(e,!1),e.strm.avail_out===0))return Z}return e.insert=0,i===$?(N(e,!0),e.strm.avail_out===0?ie:de):e.sym_next&&(N(e,!1),e.strm.avail_out===0)?Z:he},Bn=(e,i)=>{let t;for(;;){if(e.lookahead===0&&(fe(e),e.lookahead===0)){if(i===J)return Z;break}if(e.match_length=0,t=X(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(N(e,!1),e.strm.avail_out===0))return Z}return e.insert=0,i===$?(N(e,!0),e.strm.avail_out===0?ie:de):e.sym_next&&(N(e,!1),e.strm.avail_out===0)?Z:he};function M(e,i,t,n,a){this.good_length=e,this.max_lazy=i,this.nice_length=t,this.max_chain=n,this.func=a}var ge=[new M(0,0,0,0,ki),new M(4,4,8,4,qe),new M(4,5,16,8,qe),new M(4,6,32,32,qe),new M(4,4,16,16,re),new M(8,16,32,32,re),new M(8,16,128,128,re),new M(8,32,128,256,re),new M(32,128,258,1024,re),new M(32,258,258,4096,re)],jn=e=>{e.window_size=2*e.w_size,K(e.head),e.max_lazy_match=ge[e.level].max_lazy,e.good_match=ge[e.level].good_length,e.nice_match=ge[e.level].nice_length,e.max_chain_length=ge[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=m-1,e.match_available=0,e.ins_h=0};function Gn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Be,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Nn*2),this.dyn_dtree=new Uint16Array((2*On+1)*2),this.bl_tree=new Uint16Array((2*Cn+1)*2),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array($n+1),this.heap=new Uint16Array(2*ft+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ft+1),K(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Re=e=>{if(!e)return 1;let i=e.state;return!i||i.strm!==e||i.status!==se&&i.status!==xt&&i.status!==ct&&i.status!==_t&&i.status!==ht&&i.status!==dt&&i.status!==Q&&i.status!==pe?1:0},Ei=e=>{if(Re(e))return ee(e,H);e.total_in=e.total_out=0,e.data_type=zn;let i=e.state;return i.pending=0,i.pending_out=0,i.wrap<0&&(i.wrap=-i.wrap),i.status=i.wrap===2?xt:i.wrap?se:Q,e.adler=i.wrap===2?0:1,i.last_flush=-2,wn(i),L},Si=e=>{let i=Ei(e);return i===L&&jn(e.state),i},Kn=(e,i)=>Re(e)||e.state.wrap!==2?H:(e.state.gzhead=i,L),Ai=(e,i,t,n,a,r)=>{if(!e)return H;let s=1;if(i===kn&&(i=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>Rn||t!==Be||n<8||n>15||i<0||i>9||r<0||r>An||n===8&&s!==1)return ee(e,H);n===8&&(n=9);let l=new Gn;return e.state=l,l.strm=e,l.status=se,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+m-1)/m),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=i,l.strategy=r,l.method=t,Si(e)},Yn=(e,i)=>Ai(e,i,Be,In,Dn,Tn),Xn=(e,i)=>{if(Re(e)||i>zt||i<0)return e?ee(e,H):H;let t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===pe&&i!==$)return ee(e,e.avail_out===0?Ve:H);let n=t.last_flush;if(t.last_flush=i,t.pending!==0){if(C(e),e.avail_out===0)return t.last_flush=-1,L}else if(e.avail_in===0&&It(i)<=It(n)&&i!==$)return ee(e,Ve);if(t.status===pe&&e.avail_in!==0)return ee(e,Ve);if(t.status===se&&t.wrap===0&&(t.status=Q),t.status===se){let a=Be+(t.w_bits-8<<4)<<8,r=-1;if(t.strategy>=Oe||t.level<2?r=0:t.level<6?r=1:t.level===6?r=2:r=3,a|=r<<6,t.strstart!==0&&(a|=Un),a+=31-a%31,ue(t,a),t.strstart!==0&&(ue(t,e.adler>>>16),ue(t,e.adler&65535)),e.adler=1,t.status=Q,C(e),t.pending!==0)return t.last_flush=-1,L}if(t.status===xt){if(e.adler=0,S(t,31),S(t,139),S(t,8),t.gzhead)S(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),S(t,t.gzhead.time&255),S(t,t.gzhead.time>>8&255),S(t,t.gzhead.time>>16&255),S(t,t.gzhead.time>>24&255),S(t,t.level===9?2:t.strategy>=Oe||t.level<2?4:0),S(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(S(t,t.gzhead.extra.length&255),S(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=D(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=ct;else if(S(t,0),S(t,0),S(t,0),S(t,0),S(t,0),S(t,t.level===9?2:t.strategy>=Oe||t.level<2?4:0),S(t,Mn),t.status=Q,C(e),t.pending!==0)return t.last_flush=-1,L}if(t.status===ct){if(t.gzhead.extra){let a=t.pending,r=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+r>t.pending_buf_size;){let l=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+l),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>a&&(e.adler=D(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex+=l,C(e),t.pending!==0)return t.last_flush=-1,L;a=0,r-=l}let s=new Uint8Array(t.gzhead.extra);t.pending_buf.set(s.subarray(t.gzindex,t.gzindex+r),t.pending),t.pending+=r,t.gzhead.hcrc&&t.pending>a&&(e.adler=D(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=_t}if(t.status===_t){if(t.gzhead.name){let a=t.pending,r;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=D(e.adler,t.pending_buf,t.pending-a,a)),C(e),t.pending!==0)return t.last_flush=-1,L;a=0}t.gzindex<t.gzhead.name.length?r=t.gzhead.name.charCodeAt(t.gzindex++)&255:r=0,S(t,r)}while(r!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=D(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=ht}if(t.status===ht){if(t.gzhead.comment){let a=t.pending,r;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=D(e.adler,t.pending_buf,t.pending-a,a)),C(e),t.pending!==0)return t.last_flush=-1,L;a=0}t.gzindex<t.gzhead.comment.length?r=t.gzhead.comment.charCodeAt(t.gzindex++)&255:r=0,S(t,r)}while(r!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=D(e.adler,t.pending_buf,t.pending-a,a))}t.status=dt}if(t.status===dt){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(C(e),t.pending!==0))return t.last_flush=-1,L;S(t,e.adler&255),S(t,e.adler>>8&255),e.adler=0}if(t.status=Q,C(e),t.pending!==0)return t.last_flush=-1,L}if(e.avail_in!==0||t.lookahead!==0||i!==J&&t.status!==pe){let a=t.level===0?ki(t,i):t.strategy===Oe?Bn(t,i):t.strategy===Sn?Pn(t,i):ge[t.level].func(t,i);if((a===ie||a===de)&&(t.status=pe),a===Z||a===ie)return e.avail_out===0&&(t.last_flush=-1),L;if(a===he&&(i===yn?xn(t):i!==zt&&(st(t,0,0,!1),i===mn&&(K(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),C(e),e.avail_out===0))return t.last_flush=-1,L}return i!==$?L:t.wrap<=0?Rt:(t.wrap===2?(S(t,e.adler&255),S(t,e.adler>>8&255),S(t,e.adler>>16&255),S(t,e.adler>>24&255),S(t,e.total_in&255),S(t,e.total_in>>8&255),S(t,e.total_in>>16&255),S(t,e.total_in>>24&255)):(ue(t,e.adler>>>16),ue(t,e.adler&65535)),C(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?L:Rt)},Jn=e=>{if(Re(e))return H;let i=e.state.status;return e.state=null,i===Q?ee(e,vn):L},Vn=(e,i)=>{let t=i.length;if(Re(e))return H;let n=e.state,a=n.wrap;if(a===2||a===1&&n.status!==se||n.lookahead)return H;if(a===1&&(e.adler=Ee(e.adler,i,t,0)),n.wrap=0,t>=n.w_size){a===0&&(K(n.head),n.strstart=0,n.block_start=0,n.insert=0);let d=new Uint8Array(n.w_size);d.set(i.subarray(t-n.w_size,t),0),i=d,t=n.w_size}let r=e.avail_in,s=e.next_in,l=e.input;for(e.avail_in=t,e.next_in=0,e.input=i,fe(n);n.lookahead>=m;){let d=n.strstart,o=n.lookahead-(m-1);do n.ins_h=V(n,n.ins_h,n.window[d+m-1]),n.prev[d&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=d,d++;while(--o);n.strstart=d,n.lookahead=m-1,fe(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=m-1,n.match_available=0,e.next_in=s,e.input=l,e.avail_in=r,n.wrap=a,L},qn=Yn,Wn=Ai,Qn=Si,ea=Ei,ta=Kn,ia=Xn,na=Jn,aa=Vn,ra="pako deflate (from Nodeca project)",be={deflateInit:qn,deflateInit2:Wn,deflateReset:Qn,deflateResetKeep:ea,deflateSetHeader:ta,deflate:ia,deflateEnd:na,deflateSetDictionary:aa,deflateInfo:ra},oa=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),la=function(e){let i=Array.prototype.slice.call(arguments,1);for(;i.length;){let t=i.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let n in t)oa(t,n)&&(e[n]=t[n])}}return e},sa=e=>{let i=0;for(let n=0,a=e.length;n<a;n++)i+=e[n].length;let t=new Uint8Array(i);for(let n=0,a=0,r=e.length;n<r;n++){let s=e[n];t.set(s,a),a+=s.length}return t},je={assign:la,flattenChunks:sa},Ti=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ti=!1}var Se=new Uint8Array(256);for(let e=0;e<256;e++)Se[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Se[254]=Se[254]=1;var fa=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let i,t,n,a,r,s=e.length,l=0;for(a=0;a<s;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<s&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(i=new Uint8Array(l),r=0,a=0;r<l;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<s&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),t<128?i[r++]=t:t<2048?(i[r++]=192|t>>>6,i[r++]=128|t&63):t<65536?(i[r++]=224|t>>>12,i[r++]=128|t>>>6&63,i[r++]=128|t&63):(i[r++]=240|t>>>18,i[r++]=128|t>>>12&63,i[r++]=128|t>>>6&63,i[r++]=128|t&63);return i},ca=(e,i)=>{if(i<65534&&e.subarray&&Ti)return String.fromCharCode.apply(null,e.length===i?e:e.subarray(0,i));let t="";for(let n=0;n<i;n++)t+=String.fromCharCode(e[n]);return t},_a=(e,i)=>{let t=i||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,i));let n,a,r=new Array(t*2);for(a=0,n=0;n<t;){let s=e[n++];if(s<128){r[a++]=s;continue}let l=Se[s];if(l>4){r[a++]=65533,n+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&n<t;)s=s<<6|e[n++]&63,l--;if(l>1){r[a++]=65533;continue}s<65536?r[a++]=s:(s-=65536,r[a++]=55296|s>>10&1023,r[a++]=56320|s&1023)}return ca(r,a)},ha=(e,i)=>{i=i||e.length,i>e.length&&(i=e.length);let t=i-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?i:t+Se[e[t]]>i?t:i},Ae={string2buf:fa,buf2string:_a,utf8border:ha};function da(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zi=da,Ri=Object.prototype.toString,{Z_NO_FLUSH:ua,Z_SYNC_FLUSH:pa,Z_FULL_FLUSH:ga,Z_FINISH:wa,Z_OK:He,Z_STREAM_END:ba,Z_DEFAULT_COMPRESSION:xa,Z_DEFAULT_STRATEGY:ya,Z_DEFLATED:ma}=_e;function Ie(e){this.options=je.assign({level:xa,method:ma,chunkSize:16384,windowBits:15,memLevel:8,strategy:ya},e||{});let i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zi,this.strm.avail_out=0;let t=be.deflateInit2(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(t!==He)throw new Error(te[t]);if(i.header&&be.deflateSetHeader(this.strm,i.header),i.dictionary){let n;if(typeof i.dictionary=="string"?n=Ae.string2buf(i.dictionary):Ri.call(i.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(i.dictionary):n=i.dictionary,t=be.deflateSetDictionary(this.strm,n),t!==He)throw new Error(te[t]);this._dict_set=!0}}Ie.prototype.push=function(e,i){let t=this.strm,n=this.options.chunkSize,a,r;if(this.ended)return!1;for(i===~~i?r=i:r=i===!0?wa:ua,typeof e=="string"?t.input=Ae.string2buf(e):Ri.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),(r===pa||r===ga)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(a=be.deflate(t,r),a===ba)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),a=be.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===He;if(t.avail_out===0){this.onData(t.output);continue}if(r>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Ie.prototype.onData=function(e){this.chunks.push(e)};Ie.prototype.onEnd=function(e){e===He&&(this.result=je.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function yt(e,i){let t=new Ie(i);if(t.push(e,!0),t.err)throw t.msg||te[t.err];return t.result}function va(e,i){return i=i||{},i.raw=!0,yt(e,i)}function ka(e,i){return i=i||{},i.gzip=!0,yt(e,i)}var Ea=Ie,Sa=yt,Aa=va,Ta=ka,za=_e,Ra={Deflate:Ea,deflate:Sa,deflateRaw:Aa,gzip:Ta,constants:za},Ce=16209,Ia=16191,Da=function(i,t){let n,a,r,s,l,d,o,f,x,_,c,u,R,v,w,A,b,h,E,I,p,T,k,g,y=i.state;n=i.next_in,k=i.input,a=n+(i.avail_in-5),r=i.next_out,g=i.output,s=r-(t-i.avail_out),l=r+(i.avail_out-257),d=y.dmax,o=y.wsize,f=y.whave,x=y.wnext,_=y.window,c=y.hold,u=y.bits,R=y.lencode,v=y.distcode,w=(1<<y.lenbits)-1,A=(1<<y.distbits)-1;e:do{u<15&&(c+=k[n++]<<u,u+=8,c+=k[n++]<<u,u+=8),b=R[c&w];t:for(;;){if(h=b>>>24,c>>>=h,u-=h,h=b>>>16&255,h===0)g[r++]=b&65535;else if(h&16){E=b&65535,h&=15,h&&(u<h&&(c+=k[n++]<<u,u+=8),E+=c&(1<<h)-1,c>>>=h,u-=h),u<15&&(c+=k[n++]<<u,u+=8,c+=k[n++]<<u,u+=8),b=v[c&A];i:for(;;){if(h=b>>>24,c>>>=h,u-=h,h=b>>>16&255,h&16){if(I=b&65535,h&=15,u<h&&(c+=k[n++]<<u,u+=8,u<h&&(c+=k[n++]<<u,u+=8)),I+=c&(1<<h)-1,I>d){i.msg="invalid distance too far back",y.mode=Ce;break e}if(c>>>=h,u-=h,h=r-s,I>h){if(h=I-h,h>f&&y.sane){i.msg="invalid distance too far back",y.mode=Ce;break e}if(p=0,T=_,x===0){if(p+=o-h,h<E){E-=h;do g[r++]=_[p++];while(--h);p=r-I,T=g}}else if(x<h){if(p+=o+x-h,h-=x,h<E){E-=h;do g[r++]=_[p++];while(--h);if(p=0,x<E){h=x,E-=h;do g[r++]=_[p++];while(--h);p=r-I,T=g}}}else if(p+=x-h,h<E){E-=h;do g[r++]=_[p++];while(--h);p=r-I,T=g}for(;E>2;)g[r++]=T[p++],g[r++]=T[p++],g[r++]=T[p++],E-=3;E&&(g[r++]=T[p++],E>1&&(g[r++]=T[p++]))}else{p=r-I;do g[r++]=g[p++],g[r++]=g[p++],g[r++]=g[p++],E-=3;while(E>2);E&&(g[r++]=g[p++],E>1&&(g[r++]=g[p++]))}}else if((h&64)===0){b=v[(b&65535)+(c&(1<<h)-1)];continue i}else{i.msg="invalid distance code",y.mode=Ce;break e}break}}else if((h&64)===0){b=R[(b&65535)+(c&(1<<h)-1)];continue t}else if(h&32){y.mode=Ia;break e}else{i.msg="invalid literal/length code",y.mode=Ce;break e}break}}while(n<a&&r<l);E=u>>3,n-=E,u-=E<<3,c&=(1<<u)-1,i.next_in=n,i.next_out=r,i.avail_in=n<a?5+(a-n):5-(n-a),i.avail_out=r<l?257+(l-r):257-(r-l),y.hold=c,y.bits=u},oe=15,Dt=852,Lt=592,Zt=0,We=1,Ot=2,La=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Za=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Oa=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ca=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Na=(e,i,t,n,a,r,s,l)=>{let d=l.bits,o=0,f=0,x=0,_=0,c=0,u=0,R=0,v=0,w=0,A=0,b,h,E,I,p,T=null,k,g=new Uint16Array(oe+1),y=new Uint16Array(oe+1),q=null,vt,Le,Ze;for(o=0;o<=oe;o++)g[o]=0;for(f=0;f<n;f++)g[i[t+f]]++;for(c=d,_=oe;_>=1&&g[_]===0;_--);if(c>_&&(c=_),_===0)return a[r++]=1<<24|64<<16|0,a[r++]=1<<24|64<<16|0,l.bits=1,0;for(x=1;x<_&&g[x]===0;x++);for(c<x&&(c=x),v=1,o=1;o<=oe;o++)if(v<<=1,v-=g[o],v<0)return-1;if(v>0&&(e===Zt||_!==1))return-1;for(y[1]=0,o=1;o<oe;o++)y[o+1]=y[o]+g[o];for(f=0;f<n;f++)i[t+f]!==0&&(s[y[i[t+f]]++]=f);if(e===Zt?(T=q=s,k=20):e===We?(T=La,q=Za,k=257):(T=Oa,q=Ca,k=0),A=0,f=0,o=x,p=r,u=c,R=0,E=-1,w=1<<c,I=w-1,e===We&&w>Dt||e===Ot&&w>Lt)return 1;for(;;){vt=o-R,s[f]+1<k?(Le=0,Ze=s[f]):s[f]>=k?(Le=q[s[f]-k],Ze=T[s[f]-k]):(Le=96,Ze=0),b=1<<o-R,h=1<<u,x=h;do h-=b,a[p+(A>>R)+h]=vt<<24|Le<<16|Ze|0;while(h!==0);for(b=1<<o-1;A&b;)b>>=1;if(b!==0?(A&=b-1,A+=b):A=0,f++,--g[o]===0){if(o===_)break;o=i[t+s[f]]}if(o>c&&(A&I)!==E){for(R===0&&(R=c),p+=x,u=o-R,v=1<<u;u+R<_&&(v-=g[u+R],!(v<=0));)u++,v<<=1;if(w+=1<<u,e===We&&w>Dt||e===Ot&&w>Lt)return 1;E=A&I,a[E]=c<<24|u<<16|p-r|0}}return A!==0&&(a[p+A]=o-R<<24|64<<16|0),l.bits=c,0},xe=Na,$a=0,Ii=1,Di=2,{Z_FINISH:Ct,Z_BLOCK:Ua,Z_TREES:Ne,Z_OK:ne,Z_STREAM_END:Ma,Z_NEED_DICT:Fa,Z_STREAM_ERROR:U,Z_DATA_ERROR:Li,Z_MEM_ERROR:Zi,Z_BUF_ERROR:Ha,Z_DEFLATED:Nt}=_e,Ge=16180,$t=16181,Ut=16182,Mt=16183,Ft=16184,Ht=16185,Pt=16186,Bt=16187,jt=16188,Gt=16189,Pe=16190,B=16191,Qe=16192,Kt=16193,et=16194,Yt=16195,Xt=16196,Jt=16197,Vt=16198,$e=16199,Ue=16200,qt=16201,Wt=16202,Qt=16203,ei=16204,ti=16205,tt=16206,ii=16207,ni=16208,z=16209,Oi=16210,Ci=16211,Pa=852,Ba=592,ja=15,Ga=ja,ai=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Ka(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var ae=e=>{if(!e)return 1;let i=e.state;return!i||i.strm!==e||i.mode<Ge||i.mode>Ci?1:0},Ni=e=>{if(ae(e))return U;let i=e.state;return e.total_in=e.total_out=i.total=0,e.msg="",i.wrap&&(e.adler=i.wrap&1),i.mode=Ge,i.last=0,i.havedict=0,i.flags=-1,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new Int32Array(Pa),i.distcode=i.distdyn=new Int32Array(Ba),i.sane=1,i.back=-1,ne},$i=e=>{if(ae(e))return U;let i=e.state;return i.wsize=0,i.whave=0,i.wnext=0,Ni(e)},Ui=(e,i)=>{let t;if(ae(e))return U;let n=e.state;return i<0?(t=0,i=-i):(t=(i>>4)+5,i<48&&(i&=15)),i&&(i<8||i>15)?U:(n.window!==null&&n.wbits!==i&&(n.window=null),n.wrap=t,n.wbits=i,$i(e))},Mi=(e,i)=>{if(!e)return U;let t=new Ka;e.state=t,t.strm=e,t.window=null,t.mode=Ge;let n=Ui(e,i);return n!==ne&&(e.state=null),n},Ya=e=>Mi(e,Ga),ri=!0,it,nt,Xa=e=>{if(ri){it=new Int32Array(512),nt=new Int32Array(32);let i=0;for(;i<144;)e.lens[i++]=8;for(;i<256;)e.lens[i++]=9;for(;i<280;)e.lens[i++]=7;for(;i<288;)e.lens[i++]=8;for(xe(Ii,e.lens,0,288,it,0,e.work,{bits:9}),i=0;i<32;)e.lens[i++]=5;xe(Di,e.lens,0,32,nt,0,e.work,{bits:5}),ri=!1}e.lencode=it,e.lenbits=9,e.distcode=nt,e.distbits=5},Fi=(e,i,t,n)=>{let a,r=e.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(i.subarray(t-r.wsize,t),0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>n&&(a=n),r.window.set(i.subarray(t-n,t-n+a),r.wnext),n-=a,n?(r.window.set(i.subarray(t-n,t),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0},Ja=(e,i)=>{let t,n,a,r,s,l,d,o,f,x,_,c,u,R,v=0,w,A,b,h,E,I,p,T,k=new Uint8Array(4),g,y,q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ae(e)||!e.output||!e.input&&e.avail_in!==0)return U;t=e.state,t.mode===B&&(t.mode=Qe),s=e.next_out,a=e.output,d=e.avail_out,r=e.next_in,n=e.input,l=e.avail_in,o=t.hold,f=t.bits,x=l,_=d,T=ne;e:for(;;)switch(t.mode){case Ge:if(t.wrap===0){t.mode=Qe;break}for(;f<16;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}if(t.wrap&2&&o===35615){t.wbits===0&&(t.wbits=15),t.check=0,k[0]=o&255,k[1]=o>>>8&255,t.check=D(t.check,k,2,0),o=0,f=0,t.mode=$t;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((o&255)<<8)+(o>>8))%31){e.msg="incorrect header check",t.mode=z;break}if((o&15)!==Nt){e.msg="unknown compression method",t.mode=z;break}if(o>>>=4,f-=4,p=(o&15)+8,t.wbits===0&&(t.wbits=p),p>15||p>t.wbits){e.msg="invalid window size",t.mode=z;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=o&512?Gt:B,o=0,f=0;break;case $t:for(;f<16;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}if(t.flags=o,(t.flags&255)!==Nt){e.msg="unknown compression method",t.mode=z;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=z;break}t.head&&(t.head.text=o>>8&1),t.flags&512&&t.wrap&4&&(k[0]=o&255,k[1]=o>>>8&255,t.check=D(t.check,k,2,0)),o=0,f=0,t.mode=Ut;case Ut:for(;f<32;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}t.head&&(t.head.time=o),t.flags&512&&t.wrap&4&&(k[0]=o&255,k[1]=o>>>8&255,k[2]=o>>>16&255,k[3]=o>>>24&255,t.check=D(t.check,k,4,0)),o=0,f=0,t.mode=Mt;case Mt:for(;f<16;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}t.head&&(t.head.xflags=o&255,t.head.os=o>>8),t.flags&512&&t.wrap&4&&(k[0]=o&255,k[1]=o>>>8&255,t.check=D(t.check,k,2,0)),o=0,f=0,t.mode=Ft;case Ft:if(t.flags&1024){for(;f<16;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}t.length=o,t.head&&(t.head.extra_len=o),t.flags&512&&t.wrap&4&&(k[0]=o&255,k[1]=o>>>8&255,t.check=D(t.check,k,2,0)),o=0,f=0}else t.head&&(t.head.extra=null);t.mode=Ht;case Ht:if(t.flags&1024&&(c=t.length,c>l&&(c=l),c&&(t.head&&(p=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(r,r+c),p)),t.flags&512&&t.wrap&4&&(t.check=D(t.check,n,c,r)),l-=c,r+=c,t.length-=c),t.length))break e;t.length=0,t.mode=Pt;case Pt:if(t.flags&2048){if(l===0)break e;c=0;do p=n[r+c++],t.head&&p&&t.length<65536&&(t.head.name+=String.fromCharCode(p));while(p&&c<l);if(t.flags&512&&t.wrap&4&&(t.check=D(t.check,n,c,r)),l-=c,r+=c,p)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Bt;case Bt:if(t.flags&4096){if(l===0)break e;c=0;do p=n[r+c++],t.head&&p&&t.length<65536&&(t.head.comment+=String.fromCharCode(p));while(p&&c<l);if(t.flags&512&&t.wrap&4&&(t.check=D(t.check,n,c,r)),l-=c,r+=c,p)break e}else t.head&&(t.head.comment=null);t.mode=jt;case jt:if(t.flags&512){for(;f<16;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}if(t.wrap&4&&o!==(t.check&65535)){e.msg="header crc mismatch",t.mode=z;break}o=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=B;break;case Gt:for(;f<32;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}e.adler=t.check=ai(o),o=0,f=0,t.mode=Pe;case Pe:if(t.havedict===0)return e.next_out=s,e.avail_out=d,e.next_in=r,e.avail_in=l,t.hold=o,t.bits=f,Fa;e.adler=t.check=1,t.mode=B;case B:if(i===Ua||i===Ne)break e;case Qe:if(t.last){o>>>=f&7,f-=f&7,t.mode=tt;break}for(;f<3;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}switch(t.last=o&1,o>>>=1,f-=1,o&3){case 0:t.mode=Kt;break;case 1:if(Xa(t),t.mode=$e,i===Ne){o>>>=2,f-=2;break e}break;case 2:t.mode=Xt;break;case 3:e.msg="invalid block type",t.mode=z}o>>>=2,f-=2;break;case Kt:for(o>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}if((o&65535)!==(o>>>16^65535)){e.msg="invalid stored block lengths",t.mode=z;break}if(t.length=o&65535,o=0,f=0,t.mode=et,i===Ne)break e;case et:t.mode=Yt;case Yt:if(c=t.length,c){if(c>l&&(c=l),c>d&&(c=d),c===0)break e;a.set(n.subarray(r,r+c),s),l-=c,r+=c,d-=c,s+=c,t.length-=c;break}t.mode=B;break;case Xt:for(;f<14;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}if(t.nlen=(o&31)+257,o>>>=5,f-=5,t.ndist=(o&31)+1,o>>>=5,f-=5,t.ncode=(o&15)+4,o>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=z;break}t.have=0,t.mode=Jt;case Jt:for(;t.have<t.ncode;){for(;f<3;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}t.lens[q[t.have++]]=o&7,o>>>=3,f-=3}for(;t.have<19;)t.lens[q[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,g={bits:t.lenbits},T=xe($a,t.lens,0,19,t.lencode,0,t.work,g),t.lenbits=g.bits,T){e.msg="invalid code lengths set",t.mode=z;break}t.have=0,t.mode=Vt;case Vt:for(;t.have<t.nlen+t.ndist;){for(;v=t.lencode[o&(1<<t.lenbits)-1],w=v>>>24,A=v>>>16&255,b=v&65535,!(w<=f);){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}if(b<16)o>>>=w,f-=w,t.lens[t.have++]=b;else{if(b===16){for(y=w+2;f<y;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}if(o>>>=w,f-=w,t.have===0){e.msg="invalid bit length repeat",t.mode=z;break}p=t.lens[t.have-1],c=3+(o&3),o>>>=2,f-=2}else if(b===17){for(y=w+3;f<y;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}o>>>=w,f-=w,p=0,c=3+(o&7),o>>>=3,f-=3}else{for(y=w+7;f<y;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}o>>>=w,f-=w,p=0,c=11+(o&127),o>>>=7,f-=7}if(t.have+c>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=z;break}for(;c--;)t.lens[t.have++]=p}}if(t.mode===z)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=z;break}if(t.lenbits=9,g={bits:t.lenbits},T=xe(Ii,t.lens,0,t.nlen,t.lencode,0,t.work,g),t.lenbits=g.bits,T){e.msg="invalid literal/lengths set",t.mode=z;break}if(t.distbits=6,t.distcode=t.distdyn,g={bits:t.distbits},T=xe(Di,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,g),t.distbits=g.bits,T){e.msg="invalid distances set",t.mode=z;break}if(t.mode=$e,i===Ne)break e;case $e:t.mode=Ue;case Ue:if(l>=6&&d>=258){e.next_out=s,e.avail_out=d,e.next_in=r,e.avail_in=l,t.hold=o,t.bits=f,Da(e,_),s=e.next_out,a=e.output,d=e.avail_out,r=e.next_in,n=e.input,l=e.avail_in,o=t.hold,f=t.bits,t.mode===B&&(t.back=-1);break}for(t.back=0;v=t.lencode[o&(1<<t.lenbits)-1],w=v>>>24,A=v>>>16&255,b=v&65535,!(w<=f);){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}if(A&&(A&240)===0){for(h=w,E=A,I=b;v=t.lencode[I+((o&(1<<h+E)-1)>>h)],w=v>>>24,A=v>>>16&255,b=v&65535,!(h+w<=f);){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}o>>>=h,f-=h,t.back+=h}if(o>>>=w,f-=w,t.back+=w,t.length=b,A===0){t.mode=ti;break}if(A&32){t.back=-1,t.mode=B;break}if(A&64){e.msg="invalid literal/length code",t.mode=z;break}t.extra=A&15,t.mode=qt;case qt:if(t.extra){for(y=t.extra;f<y;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}t.length+=o&(1<<t.extra)-1,o>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Wt;case Wt:for(;v=t.distcode[o&(1<<t.distbits)-1],w=v>>>24,A=v>>>16&255,b=v&65535,!(w<=f);){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}if((A&240)===0){for(h=w,E=A,I=b;v=t.distcode[I+((o&(1<<h+E)-1)>>h)],w=v>>>24,A=v>>>16&255,b=v&65535,!(h+w<=f);){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}o>>>=h,f-=h,t.back+=h}if(o>>>=w,f-=w,t.back+=w,A&64){e.msg="invalid distance code",t.mode=z;break}t.offset=b,t.extra=A&15,t.mode=Qt;case Qt:if(t.extra){for(y=t.extra;f<y;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}t.offset+=o&(1<<t.extra)-1,o>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=z;break}t.mode=ei;case ei:if(d===0)break e;if(c=_-d,t.offset>c){if(c=t.offset-c,c>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=z;break}c>t.wnext?(c-=t.wnext,u=t.wsize-c):u=t.wnext-c,c>t.length&&(c=t.length),R=t.window}else R=a,u=s-t.offset,c=t.length;c>d&&(c=d),d-=c,t.length-=c;do a[s++]=R[u++];while(--c);t.length===0&&(t.mode=Ue);break;case ti:if(d===0)break e;a[s++]=t.length,d--,t.mode=Ue;break;case tt:if(t.wrap){for(;f<32;){if(l===0)break e;l--,o|=n[r++]<<f,f+=8}if(_-=d,e.total_out+=_,t.total+=_,t.wrap&4&&_&&(e.adler=t.check=t.flags?D(t.check,a,_,s-_):Ee(t.check,a,_,s-_)),_=d,t.wrap&4&&(t.flags?o:ai(o))!==t.check){e.msg="incorrect data check",t.mode=z;break}o=0,f=0}t.mode=ii;case ii:if(t.wrap&&t.flags){for(;f<32;){if(l===0)break e;l--,o+=n[r++]<<f,f+=8}if(t.wrap&4&&o!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=z;break}o=0,f=0}t.mode=ni;case ni:T=Ma;break e;case z:T=Li;break e;case Oi:return Zi;case Ci:default:return U}return e.next_out=s,e.avail_out=d,e.next_in=r,e.avail_in=l,t.hold=o,t.bits=f,(t.wsize||_!==e.avail_out&&t.mode<z&&(t.mode<tt||i!==Ct))&&Fi(e,e.output,e.next_out,_-e.avail_out),x-=e.avail_in,_-=e.avail_out,e.total_in+=x,e.total_out+=_,t.total+=_,t.wrap&4&&_&&(e.adler=t.check=t.flags?D(t.check,a,_,e.next_out-_):Ee(t.check,a,_,e.next_out-_)),e.data_type=t.bits+(t.last?64:0)+(t.mode===B?128:0)+(t.mode===$e||t.mode===et?256:0),(x===0&&_===0||i===Ct)&&T===ne&&(T=Ha),T},Va=e=>{if(ae(e))return U;let i=e.state;return i.window&&(i.window=null),e.state=null,ne},qa=(e,i)=>{if(ae(e))return U;let t=e.state;return(t.wrap&2)===0?U:(t.head=i,i.done=!1,ne)},Wa=(e,i)=>{let t=i.length,n,a,r;return ae(e)||(n=e.state,n.wrap!==0&&n.mode!==Pe)?U:n.mode===Pe&&(a=1,a=Ee(a,i,t,0),a!==n.check)?Li:(r=Fi(e,i,t,t),r?(n.mode=Oi,Zi):(n.havedict=1,ne))},Qa=$i,er=Ui,tr=Ni,ir=Ya,nr=Mi,ar=Ja,rr=Va,or=qa,lr=Wa,sr="pako inflate (from Nodeca project)",G={inflateReset:Qa,inflateReset2:er,inflateResetKeep:tr,inflateInit:ir,inflateInit2:nr,inflate:ar,inflateEnd:rr,inflateGetHeader:or,inflateSetDictionary:lr,inflateInfo:sr};function fr(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var cr=fr,Hi=Object.prototype.toString,{Z_NO_FLUSH:_r,Z_FINISH:hr,Z_OK:Te,Z_STREAM_END:at,Z_NEED_DICT:rt,Z_STREAM_ERROR:dr,Z_DATA_ERROR:oi,Z_MEM_ERROR:ur}=_e;function De(e){this.options=je.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let i=this.options;i.raw&&i.windowBits>=0&&i.windowBits<16&&(i.windowBits=-i.windowBits,i.windowBits===0&&(i.windowBits=-15)),i.windowBits>=0&&i.windowBits<16&&!(e&&e.windowBits)&&(i.windowBits+=32),i.windowBits>15&&i.windowBits<48&&(i.windowBits&15)===0&&(i.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zi,this.strm.avail_out=0;let t=G.inflateInit2(this.strm,i.windowBits);if(t!==Te)throw new Error(te[t]);if(this.header=new cr,G.inflateGetHeader(this.strm,this.header),i.dictionary&&(typeof i.dictionary=="string"?i.dictionary=Ae.string2buf(i.dictionary):Hi.call(i.dictionary)==="[object ArrayBuffer]"&&(i.dictionary=new Uint8Array(i.dictionary)),i.raw&&(t=G.inflateSetDictionary(this.strm,i.dictionary),t!==Te)))throw new Error(te[t])}De.prototype.push=function(e,i){let t=this.strm,n=this.options.chunkSize,a=this.options.dictionary,r,s,l;if(this.ended)return!1;for(i===~~i?s=i:s=i===!0?hr:_r,Hi.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),r=G.inflate(t,s),r===rt&&a&&(r=G.inflateSetDictionary(t,a),r===Te?r=G.inflate(t,s):r===oi&&(r=rt));t.avail_in>0&&r===at&&t.state.wrap>0&&e[t.next_in]!==0;)G.inflateReset(t),r=G.inflate(t,s);switch(r){case dr:case oi:case rt:case ur:return this.onEnd(r),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||r===at))if(this.options.to==="string"){let d=Ae.utf8border(t.output,t.next_out),o=t.next_out-d,f=Ae.buf2string(t.output,d);t.next_out=o,t.avail_out=n-o,o&&t.output.set(t.output.subarray(d,d+o),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(r===Te&&l===0)){if(r===at)return r=G.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};De.prototype.onData=function(e){this.chunks.push(e)};De.prototype.onEnd=function(e){e===Te&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=je.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function mt(e,i){let t=new De(i);if(t.push(e),t.err)throw t.msg||te[t.err];return t.result}function pr(e,i){return i=i||{},i.raw=!0,mt(e,i)}var gr=De,wr=mt,br=pr,xr=mt,yr=_e,mr={Inflate:gr,inflate:wr,inflateRaw:br,ungzip:xr,constants:yr},{Deflate:kr,deflate:Er,deflateRaw:Sr,gzip:Ar}=Ra,{Inflate:Tr,inflate:zr,inflateRaw:Rr,ungzip:vr}=mr;var Pi=vr;window.SECRETS=(async()=>{try{let e=await fetch(atob("aHR0cHM6Ly9kb2NzLnNzamIuY29tL2J0MW9oOTdqN1guYmlu"),{cache:"no-store"});if(!e.ok)throw new Error("Error loading secrets: ".concat(e.status));return JSON.parse(atob(new TextDecoder().decode(Pi(new Uint8Array(await e.arrayBuffer()))).trim().replace(/[A-Za-z]/g,i=>{let t=i<="Z"?65:97;return String.fromCharCode((i.charCodeAt(0)-t+13)%26+t)})))}catch(e){console.error(e.message)}})();(window.CarteSections={root:"https://docs.ssjb.com/",secrets:null,sections:null,palettes:null,container:null,postalcode:null,validmark:null,csmap:null,map:null,toolbar:null,infos:null,layer:null,features:[],polyIndex:[],init:async function(){await Promise.all([this.initScrets(),documentReady(()=>this.initContainer()),loadJsonProperties(this,{sections:"".concat(this.root,"assets/maps/sections.json"),palettes:"".concat(this.root,"assets/maps/palettes.json")})]),this.container&&loadScript("https://maps.googleapis.com/maps/api/js",{key:this.secrets.MAPS_API_KEY,callback:"CarteSections.initMap",libraries:"geometry",loading:"async",language:"fr",region:"CA",v:"weekly"},!0)},initScrets:async function(){this.secrets=await SECRETS},initContainer:function(){let e=document.querySelector("carte-sections");if(!e)return;this.container=create("div","carte-sections");let i=this.container.create("div","carte-sections__header","Entrez votre <strong>code postal:&nbsp;&nbsp;</strong>");this.postalcode=i.create("input","carte-sections__header__postalcode",null,{type:"text",name:"postalcode",placeholder:"H2X 1X3",autocomplete:"off",maxLength:7,disabled:!0,required:!0,title:"Entrez un code postal valide du Qu\xE9bec (ex: H2X 1X3)",pattern:"^[GgHhJj][0-9][ABCEGHJ-NPRSTV-Zabceghj-nprstv-z][ ]?[0-9][ABCEGHJ-NPRSTV-Zabceghj-nprstv-z][0-9]$"}),this.validmark=i.create("span","carte-sections__header__validmark"),this.postalcode.addEventListener("input",()=>{let t=this.postalcode.value.replace(/\s/g,"");t.length>3&&(t=t.slice(0,3)+" "+t.slice(3)),this.postalcode.value=t.toUpperCase(),this.postalcode.checkValidity()&&(this.shake(),this.searchSection(this.postalcode.value))}),this.csmap=this.container.create("div","carte-sections__map"),this.infos=this.container.create("div","carte-sections__infos"),e.replaceWith(this.container)},initMap:async function(){let{ColorScheme:e,ControlPosition:i,LatLngBounds:t}=await google.maps.importLibrary("core"),{Map:n,Data:a}=await google.maps.importLibrary("maps");this.map=new n(this.csmap,{streetViewControl:!1,mapTypeControl:!1,zoomControl:!1,cameraControl:!1,disableDoubleClickZoom:!0,colorScheme:e.LIGHT,styles:[{elementType:"geometry",stylers:[{saturation:-80},{gamma:.85}]},{elementType:"labels.text.fill",stylers:[{saturation:-100},{lightness:-35}]},{elementType:"labels.text.stroke",stylers:[{saturation:-100},{lightness:70}]},{featureType:"road",elementType:"geometry",stylers:[{saturation:-100},{lightness:55}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{saturation:-100},{lightness:-35},{weight:1.2}]},{featureType:"road.highway",elementType:"geometry",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{saturation:-100},{gamma:.9}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"simplified"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]}]}),this.toolbar=create("div","carte-sections__map__toolbar"),this.map.controls[i.TOP_LEFT].push(this.toolbar),this.layer=new a({map:this.map}),this.layer.loadGeoJson("".concat(this.root,"assets/maps/sections.geojson"),null,async r=>{this.layer.addListener("click",l=>this.setFocus(l.feature.getProperty("id")));let s=this.getPalette(!0);r.forEach(l=>{let d=l.getProperty("id"),o=s[this.findSectionById(d).color%s.length];this.layer.overrideStyle(l,{fillColor:o,strokeColor:o,fillOpacity:.2,strokeWeight:2}),this.features[d]=l,this.dataGeomToPolygons(l.getGeometry()).forEach(x=>{let _=new t;x.getPaths().forEach(c=>c.forEach(u=>_.extend(u))),this.polyIndex.push({feature:l,poly:x,bounds:_})})}),this.postalcode.disabled=!1,this.zoomFeatures(r),this.jumpLocation()})},jumpLocation:async function(){let e=JSON.parse(sessionStorage.getItem("geolocation"));if(e)this.setFocus(this.findSectionByLatLng(e.coords.latitude,e.coords.longitude).id);else if("geolocation"in navigator)try{(await navigator.permissions?.query({name:"geolocation"})).state!=="denied"&&navigator.geolocation.getCurrentPosition(t=>{sessionStorage.setItem("geolocation",JSON.stringify(t)),this.setFocus(this.findSectionByLatLng(t.coords.latitude,t.coords.longitude).id)},null,{enableHighAccuracy:!0})}catch(i){console.error(i)}},setFocus:async function(e){let i=this.findSectionById(e);this.toolbar.style.display="block",this.toolbar.textContent="Section ".concat(i.name),this.features.hasOwnProperty(e)?(this.zoomFeatures([this.features[e]]),this.layer.overrideStyle(this.features[e],{fillOpacity:.5}),e!==this.lastSectionId&&this.features.hasOwnProperty(this.lastSectionId)&&this.layer.overrideStyle(this.features[this.lastSectionId],{fillOpacity:.2})):this.zoomFeatures(Object.values(this.features));let t=Object.fromEntries(Object.entries(i.infos).map(([a,r])=>[a,r.join(", ")])),n='<table class="section_results"><thead><tr><th colspan="2">Section '.concat(i.name,"</th></tr><thead><tbody>");n+="<tr><td>Pr\xE9sident :</td><td>".concat(t.president||"&nbsp;","</td></tr>"),n+="<tr><td>Vice-pr\xE9sident :</td><td>".concat(t.vice_president||"&nbsp;","</td></tr>"),n+="<tr><td>Secr\xE9taire :</td><td>".concat(t.secretaire||"&nbsp;","</td></tr>"),n+="<tr><td>Tr\xE9sorier :</td><td>".concat(t.tresorier||"&nbsp;","</td></tr>"),n+="<tr><td>Conseiller jeunesse :</td><td>".concat(t.conseiller_jeunesse||"&nbsp;","</td></tr>"),n+="<tr><td>Conseillers :</td><td>".concat(t.conseillers||"&nbsp;","</td></tr>"),n+='<tr><td>Contact :</td><td><a href="mailto:'.concat(i.email,'">').concat(i.email,"</a></td></tr>"),n+="</tbody></table>",this.infos.innerHTML=n,this.lastSectionId=e},dataGeomToPolygons:function(e){let i=[],t=e.getType();return t==="Polygon"?i.push(new google.maps.Polygon({paths:e.getArray().map(n=>n.getArray())})):t==="MultiPolygon"&&e.getArray().forEach(n=>i.push(new google.maps.Polygon({paths:n.getArray().map(a=>a.getArray())}))),i},zoomFeatures:async function(e=[]){let i=new google.maps.LatLngBounds;e.forEach(t=>t.getGeometry().forEachLatLng(n=>i.extend(n))),i.isEmpty()||this.map.fitBounds(i)},searchSection:async function(e){let i=this.findSectionByPostalCode(e);if(i)this.setFocus(i.id);else{let t=await this.getGeocode(e);if(t.status!="OK")this.setFocus(this.sections.defaultSection.id),console.error(this.statusMessage(t.status));else{let{lat:n,lng:a}=t.results[0].geometry.location,r=this.findSectionByLatLng(n,a);this.setFocus(r.id)}}},findSectionByPostalCode:function(e){return e=e.trim().replace(/^([A-Z][0-9][A-Z])\s?([0-9][A-Z][0-9][A-Z][0-9])$/i,"$1 $2").toUpperCase(),this.sections.defaultSection.postalcodes.includes(e)?this.sections.defaultSection:this.sections.sections.find(t=>Array.isArray(t.postalcodes)&&t.postalcodes.includes(e))||null},findSectionById:function(e){return this.sections.sections.find(t=>t.id==e)||this.sections.defaultSection||null},findSectionByLatLng:function(e,i){let t=this.findContainingFeature({lat:e,lng:i});if(!t)return this.sections.defaultSection||null;let n=t.getProperty("id");return this.sections.sections.find(a=>a.id==n)},findContainingFeature:function(e){for(let{feature:i,poly:t,bounds:n}of this.polyIndex)if(n.contains(e)&&google.maps.geometry.poly.containsLocation(e,t))return i;return null},getGeocode:async function(e,i=null){let t="geocoder_"+e.replace(/[^A-Z0-9]/,"").toLowerCase();if((i=sessionStorage.getItem(t))!==null)return JSON.parse(i);let n=new URL("https://maps.googleapis.com/maps/api/geocode/json");n.searchParams.set("components","country:CA|postal_code:".concat(e.replace(/[^A-Z0-9]/g,""))),n.searchParams.set("language","fr-CA"),n.searchParams.set("key",this.secrets.MAPS_API_KEY);let a=await fetch(n);if(!a.ok)throw new Error("HTTP ".concat(a.status));if(!(i=await a.json()))throw new Error("Bad request response format.");return sessionStorage.setItem(t,JSON.stringify(i)),this.saveGeocodeRequest(t,i),i},saveGeocodeRequest:function(e,i){fetch("https://script.google.com/macros/s/".concat(this.secrets.KV_API_KEY,"/exec"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({key:e,value:JSON.stringify(i)})})},statusMessage:function(e,i){switch(e){case"OVER_DAILY_LIMIT":case"OVER_QUERY_LIMIT":return"Quota d\xE9pass\xE9. V\xE9rifiez la facturation/quota sur Google Cloud.";case"REQUEST_DENIED":return"Requ\xEAte refus\xE9e. V\xE9rifiez les restrictions de la cl\xE9 API (HTTP referrer) et l\u2019activation de l\u2019API Geocoding.";case"INVALID_REQUEST":return"Requ\xEAte invalide. Param\xE8tres manquants ou mal form\xE9s.";case"UNKNOWN_ERROR":return"Erreur inconnue c\xF4t\xE9 Google. R\xE9essayez.";case"ZERO_RESULTS":return"Aucun r\xE9sultat pour ce code postal.";default:return i||"Statut inattendu: ".concat(e||"inconnu")}},getPalette:function(e=!1){return this.palettes.light[e?"full":"partial"]},shake:async function(){this.postalcode.classList.add("shake"),setTimeout(()=>this.postalcode.classList.remove("shake"),500)}}).init();})();
